<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width">

        <title>corpkit : Edit</title>
        <meta name="description" content="a toolkit for doing corpus linguistics">

        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="/css/syntax.css">
        <link rel="stylesheet" href="/css/main.css">
    </head>
    <body>

        <div class="container">
            <div class="row">
                <div id="header" class="col-sm-12">
                    <h4><a class="brand" href="/">corpkit</a>
    <small>a toolkit for doing corpus linguistics</small>
</h4>

                </div>
            </div>

            <div class="row">
                
                
                    <div id="navigation" class="col-sm-2">
                        <ul class="nav nav-list">
    <li><a href="/">Home</a></li>
    
        
        

        
            
                <li class="nav-header">Documentation</li>
            
            <li data-order=""><a href="/doc/help.html">Help</a></li>
        
            
            <li data-order="9"><a href="/doc/features.html">Features</a></li>
        
            
            <li data-order="8"><a href="/doc/manage.html">Manage</a></li>
        
            
            <li data-order="7"><a href="/doc/concordance.html">Concordance</a></li>
        
            
            <li data-order="6"><a href="/doc/visualise.html">Visualise</a></li>
        
            
            <li data-order="5"><a href="/doc/edit.html">Edit</a></li>
        
            
            <li data-order="4"><a href="/doc/interrogate.html">Interrogate</a></li>
        
            
            <li data-order="3"><a href="/doc/build.html">Build</a></li>
        
            
            <li data-order="1"><a href="/doc/setup.html">Setup</a></li>
        
    
        
        

        
    
        
        

        
    
        
        

        
            
                <li class="nav-header">Developers</li>
            
            <li data-order=""><a href="/dev/contributing.html">Contributing</a></li>
        
    
        
        

        
    
<!-- List additional links. It is recommended to add a divider
    e.g. <li class="divider"></li> first to break up the content. -->
</ul>

                    </div>

                    <div id="content" class="col-sm-10">
                        <div class="page-header">
    <h2>Edit
        
    </h2>
</div>

<blockquote>
<p><code>Edit</code> allows you to manipulate results generated in the <code>interrogate</code> window, or to re-edit results generated with <code>edit</code>.</p>
</blockquote>

<h3 id="selecting-data-to-edit">Selecting data to edit</h3>

<p>You can select any interrogation or edited result to edit.</p>

<p>After this, you need to select a <code>branch</code>, either <code>results</code> or <code>totals</code>. These correspond to the two spreadsheets in the <code>Interrogate</code> tab.</p>

<h3 id="operations-and-denominators">Operations and denominators</h3>

<p>A common task is to turn absolute into relative frequencies. To do this, you simply select <code>&#39;%&#39;</code> as the operation, and <code>self</code>-<code>totals</code> as the denominator. To calculate a radio, you could use <code>&#39;/&#39;</code>.</p>

<p>Because you can use any result/total as the denominator (provided it has the same subcorpora), you can calculate almost anything in your data. To figure out the ratio of nouns/clauses, you would perform two interrogations, and combine them here.</p>

<p>If you use a <code>results</code> branch as a denominator, things get a little more complex still. Rather than being divided by the total from that subcorpus, each entry will be divided by the total occurrences of that particular entry in the denominator data.</p>

<p>You could use this kind of edit to answer a question like:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">When sports are mentioned, what percentage of the time do the sports occur in subject position?
</code></pre></div>
<p>You can use the <code>combine</code> operation to add two results together. By default, this happens on the y axis. If you have multiple columns with the same names, results may be merged. If you want to merge on the x-axis, use the <code>transpose</code> option for each dataset, and then <code>combine</code>.</p>

<h3 id="sorting">Sorting</h3>

<p>When working with multiple subcorpora, sorting becomes a very powerful feature of <code>corpkit</code>. Aside from very normal kinds of sorting (by total, by name), you can also sort by <em>increase</em>, <em>decrease</em>, <em>static</em> or <em>turbulent</em>. </p>

<p><code>corpkit</code> does this using <a href="http://docs.scipy.org/doc/scipy-0.14.0/reference/generated/scipy.stats.linregress.html"><code>Scipy</code>&#39;s <em>linear regression</em> function</a>. Essentially, a straight trend line is calculated for each entry in the data. By measuring the angle of this line, we can find out which results are increasingly or decreasingly used across the dataset.</p>

<p>If you tick <code>Keep stats</code>, you&#39;ll be able to see the <code>slope</code>, <code>intercept</code>, <code>stderr</code> and <code>p value</code>, where the null hypothesis is that there is no upward or downward slope. <code>Remove above p</code> will automatically exclude results not meeting the standard.</p>

<h4 id="keywording">Keywording</h4>

<p>If you select the <code>&#39;keywords&#39;</code> option, you can get log-likelihood keyness scores for the the dataset of interest, compared with the denominator as a reference corpus. When doing keywording, the reference corpus can be either a results branch of an interrogation, or the BNC, <code>&#39;bnc.p&#39;</code>.</p>

<p>Using <code>Self</code>-<code>results</code> as denominator will determine which words are key in each subcorpus. Each subcorpus is dropped from the reference corpus in turn in order to calculate these values.</p>

<blockquote>
<p>Negative keywords exist, too: try sorting by inverse total to find out which words are uncommon in the target data.</p>
</blockquote>

<h3 id="skipping-keeping-merging">Skipping, keeping, merging</h3>

<p>You can easily skip, keep or merge particular entries and subcorpora. For entries, you need to to write out some criteria. For subcorpora, you can select from the list.</p>

<p>When writing out entries to keep/remove/merge, you can supply either:</p>

<ol>
<li>A regular expression to match: <code>^fr*iends?$</code> will match <code>fiend</code>, <code>fiends</code>, <code>friend</code> and <code>friends</code>.</li>
<li>A list: <code>[fiend,fiends,friend,friends]</code></li>
</ol>

<blockquote>
<p>Special queries work here, too. If you searched for process, you could keep only <code>PROCCESSES:VERBAL</code>.</p>
</blockquote>

<p>If merging either subcorpora or entries, you may want to provide a new name for the merged item. By default, the first few entry names are joined together with slashes.</p>

<p>Merging entries is a powerful way to do thematic categorisation: you could merge the names of illnesses as <code>&#39;Illnesses&#39;</code>, and the names of treatments as <code>Treatments</code>. You could then edit the edited results, keeping only those two.</p>

<blockquote>
<p>You can use <code>Help --&gt; Save log</code> after performing an edit to get some information about what was performed.</p>
</blockquote>

<h3 id="replacing-names">Replacing names</h3>

<p>You can change the names of entries after they appear. One way to do this is to click the spreadsheet, make changes, and click <code>Update interrogation(s)</code>. Another way is to use the <code>Replace names</code> boxes. The box on the left takes a regular expression as a search pattern. It will look in every entry name matching the expression, and replace it with whatever is in the box on the right (leave blank to simply delete the found pattern). Duplicate entry names are then merged.</p>

<h3 id="other-options">Other options</h3>

<table><thead>
<tr>
<th>Option</th>
<th>Function</th>
</tr>
</thead><tbody>
<tr>
<td><code>Keep stats</code></td>
<td>When calculating slopes, keep these in the edited data, and show them in the spreadsheet windows</td>
</tr>
<tr>
<td><code>Remove above p</code></td>
<td>A null hypothesis is that entries are equally frequent in each subcorpus. When calculating slopes, remove any entries with <code>p</code> above <code>0.05</code></td>
</tr>
<tr>
<td><code>Just totals</code></td>
<td>Combine every entry before processing</td>
</tr>
<tr>
<td><code>Transpose</code></td>
<td>Flip rows and columns (subcorpora become entries, etc.)</td>
</tr>
<tr>
<td><code>Spelling</code></td>
<td>Convert or normalise English</td>
</tr>
<tr>
<td><code>Keep top results</code></td>
<td>After all other editing and sorting, return only the top n results</td>
</tr>
</tbody></table>


                    </div>
                
            </div>

            

            <div class="row">
                <div id="footer" class="col-sm-12">
                    Documentation for <a href="https://github.com/interrogator/corpkit">corpkit</a>

                </div>
            </div>
        </div>

        <script>
            function orderNav() {
                var list,
                    section,
                    header,
                    sections = [],
                    lists = {},
                    headers = {};

                var navUl = document.querySelectorAll('#navigation ul')[0],
                    navLis = document.querySelectorAll('#navigation ul li');

                if (!navUl) return;

                for (var i = 0; i < navLis.length; i++) {
                    var order, li = navLis[i];

                    if (li.classList.contains('nav-header')) {
                        section = li.textContent || li.innerText;
                        sections.push(section);
                        headers[section] = li;
                        continue;
                    }

                    if (!lists[section]) {
                        lists[section] = [];
                    }

                    order = parseFloat(li.getAttribute('data-order'))
                    lists[section].push([order, li]);
                }

                for (var i = 0; i < sections.length; i++) {
                    section = sections[i];
                    list = lists[section].sort(function(a, b) {
                        return a[0] - b[0];
                    });

                    if (header = headers[section]) {
                        navUl.appendChild(header);
                    }
                    for (var j = 0; j < list.length; j++) {
                        navUl.appendChild(list[j][1]);
                    }
                }
            }

            if (document.querySelectorAll) orderNav();
        </script>
        
    </body>
</html>
